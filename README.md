# mbed_PBL  

情報ＰＢＬの課題に取り組む用

# 取扱説明書  

Gグループの作品は

1. **温度計**  
2. **カウンター**  

の機能を備えております  

mbedを起動して7セグが下から上にウェーブしている間に  
モードセレクトを行います  

右スイッチを押せば**温度計**が、  
左スイッチを押せば**カウンター**が起動します。  

また、モード実行時に左右のスイッチを同時に長押しをすると  
モード切り替えが出来ます  

mbedの方のLEDがメーターの働きをし、  
LEDが4つとも光った後にスイッチから手を離すとモードセレクトに戻ります  

************************************************************
## 7セグメントLEDの扱いに関する大まかな方針  

「数字」→「7セグメントLEDに出力」の流れをざっくり説明しときます  

1. 数字を桁ごとに分割(上から3桁)  
2. 「数字ごとに対応するa~gのON/OFFの並び」をそれぞれの位の数字に当てはめる  
3. a~gまでのON/OFFを桁ごとにAnalogOutに代入  

これだけで 一応数字は表示されます(小数点とか10の位が0の時とかはまた後で考えます)  
1~3の作業を関数で分割して行っていく感じです  
関数たちの詳しい仕事内容は下の「関数シリーズの説明」とかMain内のソースコードなんかを参照してね  

************************************************************
以下リポジトリ内の要素の説明  

Element | Description  
--- | ---  
Main/ | main.cppとテスト済み関数が入ってます  
Test/ | provisional_verの中の関数とかを一個ずつTestするときに使用します  
for_J_group | Jさんとの共同開発用ディレクトリ  
provisional_ver/ | 関数の草案だの試作品だのが入ってます  

************************************************************
以下関数シリーズの説明

## 7セグメントLEDに関するもの

### class sevseg_LEDのメンバ関数

### その他

## モード選択に関するもの

## 温度計に関するもの

## カウンターに関するもの

>## エラーメッセージに関するもの
>
>* `err_message();`
>```C++
>void err_message(){
>  int error_array[3][7] = {
>    {ON,  OFF, OFF, ON,  ON, ON,  ON},
>    {OFF, OFF, OFF, OFF, ON, OFF, ON},
>    {OFF, OFF, OFF, OFF, ON, OFF, ON}
>  };
>  while (1){
>    for (int i = 0; i < WIDTH; i++){
>      digits_init();
>      digit[i] = 0;
>      output_digit(error_array[i]);
>      wait(0.001);
>    }
>  }
>}
>```
